(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{43:function(t,s,a){},55:function(t,s,a){"use strict";a(43)},76:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t._self._c;return s("mt-loadmore",{ref:"loadmore",attrs:{id:"listWrap","top-method":t.loadNew,"bottom-method":t.loadMore,"bottom-all-loaded":t.allLoaded,autoFill:!1}},t._l(t.dataList,(function(a,i){return s("div",{key:i,staticClass:"picItem",on:{click:function(s){return t.toDetail(a)}}},[s("div",{staticClass:"newsItem-wrap"},[s("b",{staticClass:"count"},[t._v(t._s(a.imgsum+"pics"))]),t._v(" "),i%4==0||i%4==2?s("div",{staticClass:"box1"},[s("div",{staticClass:"imgCard clear"},[s("img",{attrs:{src:a.pics[0],alt:""}})]),t._v(" "),s("div",{staticClass:"footer"},[s("span",{staticClass:"pTitle"},[t._v(t._s(a.setname))]),t._v(" "),s("span",{staticClass:"reply"},[t._v(t._s(a.replynum+"跟贴"))])])]):t._e(),t._v(" "),i%4==1?s("div",{staticClass:"box1"},[s("div",{staticClass:"imgCard clear"},[s("div",{staticClass:"f fl",staticStyle:{width:"70%","padding-right":"0.05rem"}},[s("img",{attrs:{src:a.pics[0],alt:""}})]),t._v(" "),s("div",{staticClass:"f fr",staticStyle:{width:"30%"}},[s("div",{staticClass:"top"},[s("img",{attrs:{src:a.pics[1],alt:""}})]),t._v(" "),s("div",{staticClass:"bottom"},[s("img",{attrs:{src:a.pics[2],alt:""}})])])]),t._v(" "),s("div",{staticClass:"footer"},[s("span",{staticClass:"pTitle"},[t._v(t._s(a.setname))]),t._v(" "),s("span",{staticClass:"reply"},[t._v(t._s(a.replynum+"跟贴"))])])]):t._e(),t._v(" "),i%4==3?s("div",{staticClass:"box1"},[s("div",{staticClass:"imgCard clear"},[s("div",{staticClass:"f fl",staticStyle:{width:"30%","padding-right":"0.05rem"}},[s("div",{staticClass:"top"},[s("img",{attrs:{src:a.pics[1],alt:""}})]),t._v(" "),s("div",{staticClass:"bottom"},[s("img",{attrs:{src:a.pics[2],alt:""}})])]),t._v(" "),s("div",{staticClass:"f fr",staticStyle:{width:"70%"}},[s("img",{attrs:{src:a.pics[0],alt:""}})])]),t._v(" "),s("div",{staticClass:"footer"},[s("span",{staticClass:"pTitle"},[t._v(t._s(a.setname))]),t._v(" "),s("span",{staticClass:"reply"},[t._v(t._s(a.replynum+"跟贴"))])])]):t._e()])])})),0)};i._withStripped=!0;var e=a(10),o=a.n(e),l=a(4),r=a.n(l),d=a(3),n=a.n(d),c={name:"Picture",data:()=>({host_port:n.a.dev.host+":"+n.a.dev.servePort,title:"图片",dataList:[],currentUrl:r.a.urlArray["图片"],allLoaded:!1,newList:"http://c.m.163.com/photo/api/morelist/0096/54GI0096/128012.json",moreList:"http://c.m.163.com/photo/api/morelist/0096/54GI0096/128022.json"}),created:function(){if(0!=this.dataList.length)return;let t=this.$route.params.type?this.$route.params.type:this.title;this.ajaxData({title:t})},watch:{},methods:{ajaxData:function(t){if(t.loadMore)this.currentUrl=this.transformUrl(this.moreList,"loadMore");else if(t.loadNew)this.currentUrl=this.transformUrl(this.newList,"loadNew");else if(this.currentUrl=r.a.urlArray[t.title],null!=this.$store.state.news_DATA[t.title])return void(this.dataList=this.$store.state.news_DATA[t.title]);o.a.showLoading(!0),this.$http.jsonp(this.host_port+"?key=wy&url="+this.currentUrl).then((s=>{if(o.a.showLoading(!1),s=JSON.parse(JSON.parse(s.body)),t.loadMore){if(this.$refs.loadmore.onBottomLoaded(),0==s.length)return void(this.allLoaded=!0)}else t.loadNew&&this.$refs.loadmore.onTopLoaded();t.loadMore?(this.dataList=this.dataList.concat(s),this.moreList=this.currentUrl):t.loadNew?(this.dataList=s.concat(this.dataList),this.newList=this.currentUrl):this.dataList=s,this.$store.commit("setData",{type:"news",title:t.title,data:this.dataList}),console.log([t.title,this.currentUrl,this.dataList])}),(t=>{console.log(t)}))},loadMore:function(){this.ajaxData({title:this.title,loadMore:!0})},loadNew:function(){this.ajaxData({title:this.title,loadNew:!0})},toDetail:function(t){this.$router.push({name:"newsDetail",query:{postid:t.postid,skipID:t.skipID,docid:t.docid,photosetID:t.photosetID,setid:t.setid}})},transformUrl:function(t,s){let a=t.split("/"),i=a[a.length-1],e=i.split("."),o=Number(e[0]);"loadNew"==s?o+=10:"loadMore"==s&&(o-=10),e[0]=o,i=e.join("."),a[a.length-1]=i;let l=a.join("/");return console.log(l),l}}},h=(a(55),a(1)),p=Object(h.a)(c,i,[],!1,null,"9720c1ee",null);s.default=p.exports}}]);