(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{43:function(t,s,i){},55:function(t,s,i){"use strict";i(43)},76:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("mt-loadmore",{ref:"loadmore",attrs:{id:"listWrap","top-method":t.loadNew,"bottom-method":t.loadMore,"bottom-all-loaded":t.allLoaded,autoFill:!1}},t._l(t.dataList,(function(s,a){return i("div",{key:a,staticClass:"picItem",on:{click:function(i){return t.toDetail(s)}}},[i("div",{staticClass:"newsItem-wrap"},[i("b",{staticClass:"count"},[t._v(t._s(s.imgsum+"pics"))]),t._v(" "),a%4==0||a%4==2?i("div",{staticClass:"box1"},[i("div",{staticClass:"imgCard clear"},[i("img",{attrs:{src:s.pics[0],alt:""}})]),t._v(" "),i("div",{staticClass:"footer"},[i("span",{staticClass:"pTitle"},[t._v(t._s(s.setname))]),t._v(" "),i("span",{staticClass:"reply"},[t._v(t._s(s.replynum+"跟贴"))])])]):t._e(),t._v(" "),a%4==1?i("div",{staticClass:"box1"},[i("div",{staticClass:"imgCard clear"},[i("div",{staticClass:"f fl",staticStyle:{width:"70%","padding-right":"0.05rem"}},[i("img",{attrs:{src:s.pics[0],alt:""}})]),t._v(" "),i("div",{staticClass:"f fr",staticStyle:{width:"30%"}},[i("div",{staticClass:"top"},[i("img",{attrs:{src:s.pics[1],alt:""}})]),t._v(" "),i("div",{staticClass:"bottom"},[i("img",{attrs:{src:s.pics[2],alt:""}})])])]),t._v(" "),i("div",{staticClass:"footer"},[i("span",{staticClass:"pTitle"},[t._v(t._s(s.setname))]),t._v(" "),i("span",{staticClass:"reply"},[t._v(t._s(s.replynum+"跟贴"))])])]):t._e(),t._v(" "),a%4==3?i("div",{staticClass:"box1"},[i("div",{staticClass:"imgCard clear"},[i("div",{staticClass:"f fl",staticStyle:{width:"30%","padding-right":"0.05rem"}},[i("div",{staticClass:"top"},[i("img",{attrs:{src:s.pics[1],alt:""}})]),t._v(" "),i("div",{staticClass:"bottom"},[i("img",{attrs:{src:s.pics[2],alt:""}})])]),t._v(" "),i("div",{staticClass:"f fr",staticStyle:{width:"70%"}},[i("img",{attrs:{src:s.pics[0],alt:""}})])]),t._v(" "),i("div",{staticClass:"footer"},[i("span",{staticClass:"pTitle"},[t._v(t._s(s.setname))]),t._v(" "),i("span",{staticClass:"reply"},[t._v(t._s(s.replynum+"跟贴"))])])]):t._e()])])})),0)};a._withStripped=!0;var e=i(10),o=i.n(e),l=i(4),r=i.n(l),n=i(3),d=i.n(n),c={name:"Picture",data:()=>({host_port:"http://"+d.a.dev.host+":"+d.a.dev.servePort,title:"图片",dataList:[],currentUrl:r.a.urlArray["图片"],allLoaded:!1,newList:"http://c.m.163.com/photo/api/morelist/0096/54GI0096/128012.json",moreList:"http://c.m.163.com/photo/api/morelist/0096/54GI0096/128022.json"}),created:function(){if(0!=this.dataList.length)return;let t=this.$route.params.type?this.$route.params.type:this.title;this.ajaxData({title:t})},watch:{},methods:{ajaxData:function(t){if(t.loadMore)this.currentUrl=this.transformUrl(this.moreList,"loadMore");else if(t.loadNew)this.currentUrl=this.transformUrl(this.newList,"loadNew");else if(this.currentUrl=r.a.urlArray[t.title],null!=this.$store.state.news_DATA[t.title])return void(this.dataList=this.$store.state.news_DATA[t.title]);o.a.showLoading(!0),this.$http.jsonp(this.host_port+"?key=wy&url="+this.currentUrl).then((s=>{if(o.a.showLoading(!1),s=JSON.parse(JSON.parse(s.body)),t.loadMore){if(this.$refs.loadmore.onBottomLoaded(),0==s.length)return void(this.allLoaded=!0)}else t.loadNew&&this.$refs.loadmore.onTopLoaded();t.loadMore?(this.dataList=this.dataList.concat(s),this.moreList=this.currentUrl):t.loadNew?(this.dataList=s.concat(this.dataList),this.newList=this.currentUrl):this.dataList=s,this.$store.commit("setData",{type:"news",title:t.title,data:this.dataList}),console.log([t.title,this.currentUrl,this.dataList])}),(t=>{console.log(t)}))},loadMore:function(){this.ajaxData({title:this.title,loadMore:!0})},loadNew:function(){this.ajaxData({title:this.title,loadNew:!0})},toDetail:function(t){this.$router.push({name:"newsDetail",query:{postid:t.postid,skipID:t.skipID,docid:t.docid,photosetID:t.photosetID,setid:t.setid}})},transformUrl:function(t,s){let i=t.split("/"),a=i[i.length-1],e=a.split("."),o=Number(e[0]);"loadNew"==s?o+=10:"loadMore"==s&&(o-=10),e[0]=o,a=e.join("."),i[i.length-1]=a;let l=i.join("/");return console.log(l),l}}},h=(i(55),i(1)),p=Object(h.a)(c,a,[],!1,null,"bad43d20",null);p.options.__file="src/components/news/PictureList.vue";s.default=p.exports}}]);