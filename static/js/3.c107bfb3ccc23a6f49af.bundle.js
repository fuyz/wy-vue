(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{40:function(t,e,s){"use strict";s.r(e);var n=s(41),a=s.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){s.d(e,t,(function(){return n[t]}))}(i);e.default=a.a},41:function(t,e,s){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(s(0)),i=s(2),c=n(s(3)),o=s(20);e.default=a.default.extend({name:"Special",data:function(){return{title:"",specialID:"",host_port:c.default.dev.host+":"+c.default.dev.servePort,dataList:[],currentUrl:"",allLoaded:!1}},watch:{},created:function(){var t=this.$route.query;this.specialID=t.specialID,this.currentUrl="http://c.m.163.com/nc/special/"+this.specialID+".html",this.getData()},mounted:function(){var t=this,e=document.getElementById("app");e&&(e.onscroll=(0,o.debounce)(this.loadImg,300)),this.$nextTick((function(){t.loadImg()}))},updated:function(){this.loadImg()},methods:{getData:function(){var t=this;i.Indicator.open({text:"加载中...",spinnerType:"snake"}),this.$http.jsonp(this.host_port+"?key=wy&url="+this.currentUrl).then((function(e){i.Indicator.close();try{var s=JSON.parse(JSON.parse(e.body));t.dataList=s[t.specialID],console.log(["专题数据",t.currentUrl,t.dataList])}catch(e){console.log(e),(0,i.MessageBox)({title:"提示",message:"网络错误，请刷新重试！",confirmButtonText:"刷新"}).then((function(){t.getData()}))}}),(function(t){console.log(t)}))},toDetail:function(t){t.specialID?this.$router.push({name:"special",query:{specialID:t.specialID}}):this.$router.push({name:"newsDetail",query:{postid:t.postid,skipID:t.skipID,docid:t.docid,photosetID:t.photosetID,setid:t.setid}})},toAnchor:function(t){var e=document.getElementById(t).offsetTop;document.getElementById("app").scrollTop=e},loadImg:function(){var t=document.getElementById("app");if(t)for(var e=document.querySelectorAll("#specialWrap img"),s=t.scrollTop,n=document.documentElement.clientHeight,a=0;a<e.length;a++){if(s+n>e[a].offsetTop-200){if(e[a].src)continue;var i=e[a].getAttribute("data-src");i&&(e[a].src=i)}}}}})},51:function(t,e,s){},64:function(t,e,s){"use strict";s(51)},72:function(t,e,s){"use strict";s.d(e,"a",(function(){return n})),s.d(e,"b",(function(){return a}));var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"specialWrap"}},[e("mt-header",{staticStyle:{"z-index":"5"},attrs:{fixed:""}},[e("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:t.goBack},slot:"left"},[t._v("\n      返回\n    ")])],1),t._v(" "),e("header",[t.dataList.banner?e("img",{staticClass:"banner",attrs:{src:t.dataList.banner,alt:"banner图片"}}):t._e(),t._v(" "),e("div",{staticClass:"cellWrap"},t._l(t.dataList.topics,(function(s,n){return e("div",{key:n,staticClass:"cell",on:{click:function(e){return t.toAnchor(n)}}},[t._v("\n        "+t._s(s.shortname||s.tname)+"\n      ")])})),0)]),t._v(" "),t._l(t.dataList.topics,(function(s,n){return e("div",{key:n},[e("div",{staticClass:"newsItem-title",attrs:{id:n}},[t._v("\n      "+t._s(++n+"/"+t.dataList.topics.length)+" "+t._s(s.tname)+"\n    ")]),t._v(" "),t._l(s.docs,(function(s,n){return e("div",{key:n,staticClass:"newsItem",on:{click:function(e){return t.toDetail(s)}}},[e("div",{staticClass:"left"},[e("h3",{staticClass:"title"},[t._v("\n          "+t._s(s.title)+"\n        ")]),t._v(" "),e("div",{staticClass:"detial"},[e("span",{staticClass:"source"},[t._v(t._s(s.source))]),t._v(" "),e("span",{staticClass:"pubTime"},[t._v(t._s(s.ptime.slice(5,-3)))]),t._v(" "),e("span",{staticClass:"reply"},[t._v(t._s(s.replyCount)+"跟帖")])])]),t._v(" "),e("div",{staticClass:"right"},[e("img",{staticClass:"newsImg",attrs:{"data-src":s.imgsrc,alt:""}})])])}))],2)}))],2)},a=[];n._withStripped=!0},74:function(t,e,s){"use strict";s.r(e);var n=s(72),a=s(40);for(var i in a)["default"].indexOf(i)<0&&function(t){s.d(e,t,(function(){return a[t]}))}(i);s(64);var c=s(1),o=Object(c.a)(a.default,n.a,n.b,!1,null,"21d82a04",null);e.default=o.exports}}]);